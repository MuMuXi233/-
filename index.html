<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人作品集 - 创意项目展示</title>
    <!-- 引入外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- 配置Tailwind自定义主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#FF7A00',
                        'dark': '#0A0A1A',
                        'accent': '#0F3460',
                        'gray': '#1A1A2A',
                    },
                    fontFamily: {
                        'portfolio': ['Segoe UI', 'Roboto', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            }
            .text-shadow-lg {
                text-shadow: 0 4px 8px rgba(0,0,0,0.8);
            }
            .mask-logo {
                mask-image: url(#logo-mask);
                -webkit-mask-image: url(#logo-mask);
                mask-repeat: no-repeat;
                -webkit-mask-repeat: no-repeat;
                mask-position: center;
                -webkit-mask-position: center;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .noise-bg {
                position: relative;
            }
            .noise-bg::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
                pointer-events: none;
                z-index: 10;
            }
            .glitch {
                position: relative;
            }
            .glitch::before, .glitch::after {
                content: attr(data-text);
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }
            .glitch::before {
                left: 2px;
                text-shadow: -1px 0 #ff00c1;
                clip: rect(44px, 450px, 56px, 0);
                animation: glitch-anim 5s infinite linear alternate-reverse;
            }
            .glitch::after {
                left: -2px;
                text-shadow: -1px 0 #00fff9, 1px 1px #ff00c1;
                clip: rect(24px, 450px, 36px, 0);
                animation: glitch-anim2 5s infinite linear alternate-reverse;
            }
            @keyframes glitch-anim {
                0% { clip: rect(42px, 9999px, 44px, 0); }
                5% { clip: rect(12px, 9999px, 59px, 0); }
                10% { clip: rect(48px, 9999px, 29px, 0); }
                15% { clip: rect(42px, 9999px, 73px, 0); }
                20% { clip: rect(63px, 9999px, 27px, 0); }
                25% { clip: rect(34px, 9999px, 55px, 0); }
                30% { clip: rect(86px, 9999px, 73px, 0); }
                35% { clip: rect(20px, 9999px, 20px, 0); }
                40% { clip: rect(26px, 9999px, 60px, 0); }
                45% { clip: rect(25px, 9999px, 66px, 0); }
                50% { clip: rect(57px, 9999px, 98px, 0); }
                55% { clip: rect(5px, 9999px, 46px, 0); }
                60% { clip: rect(82px, 9999px, 31px, 0); }
                65% { clip: rect(54px, 9999px, 27px, 0); }
                70% { clip: rect(28px, 9999px, 99px, 0); }
                75% { clip: rect(45px, 9999px, 69px, 0); }
                80% { clip: rect(23px, 9999px, 85px, 0); }
                85% { clip: rect(54px, 9999px, 84px, 0); }
                90% { clip: rect(45px, 9999px, 47px, 0); }
                95% { clip: rect(37px, 9999px, 20px, 0); }
                100% { clip: rect(4px, 9999px, 91px, 0); }
            }
            @keyframes glitch-anim2 {
                0% { clip: rect(65px, 9999px, 100px, 0); }
                5% { clip: rect(52px, 9999px, 74px, 0); }
                10% { clip: rect(79px, 9999px, 85px, 0); }
                15% { clip: rect(75px, 9999px, 5px, 0); }
                20% { clip: rect(67px, 9999px, 61px, 0); }
                25% { clip: rect(14px, 9999px, 79px, 0); }
                30% { clip: rect(1px, 9999px, 66px, 0); }
                35% { clip: rect(86px, 9999px, 30px, 0); }
                40% { clip: rect(23px, 9999px, 98px, 0); }
                45% { clip: rect(85px, 9999px, 72px, 0); }
                50% { clip: rect(71px, 9999px, 75px, 0); }
                55% { clip: rect(2px, 9999px, 48px, 0); }
                60% { clip: rect(30px, 9999px, 16px, 0); }
                65% { clip: rect(59px, 9999px, 50px, 0); }
                70% { clip: rect(41px, 9999px, 62px, 0); }
                75% { clip: rect(2px, 9999px, 82px, 0); }
                80% { clip: rect(47px, 9999px, 73px, 0); }
                85% { clip: rect(3px, 9999px, 27px, 0); }
                90% { clip: rect(26px, 9999px, 55px, 0); }
                95% { clip: rect(42px, 9999px, 97px, 0); }
                100% { clip: rect(38px, 9999px, 49px, 0); }
            }
            .carousel-indicator {
                width: 10px;
                height: 10px;
                border-radius: 50%;
                transition: all 0.3s ease;
            }
            .carousel-indicator.active {
                background-color: #FF7A00;
                transform: scale(1.2);
            }
        }
    </style>
</head>
<body class="font-portfolio bg-black text-white overflow-x-hidden scrollbar-hide noise-bg">
    <!-- SVG遮罩和滤镜定义 -->
    <svg width="0" height="0" class="hidden">
        <defs>
            <!-- 作品集标志遮罩 -->
            <mask id="logo-mask">
                <rect width="100" height="100" fill="white" />
                <text x="50" y="65" font-family="Arial, sans-serif" font-weight="bold" font-size="24" text-anchor="middle" fill="black">作品集</text>
            </mask>
            
            <!-- 扫描线效果 -->
            <filter id="scanlines" x="0" y="0" width="100%" height="100%">
                <feTurbulence type="turbulence" baseFrequency="0.005" numOctaves="1" result="lines" />
                <feComposite in="SourceGraphic" in2="lines" operator="arithmetic" k1="0" k2="0.5" k3="0.5" k4="0" />
            </filter>
        </defs>
    </svg>


    <!-- 导航栏 -->
    <nav id="navbar" class="fixed top-0 left-0 w-full z-50 transition-all duration-500">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-10 h-10 bg-primary flex items-center justify-center">
                    <span class="font-bold text-black text-xl">ZW</span>
                </div>
                <div class="text-2xl font-bold tracking-wider">
                    <span class="text-white">项目</span>
                    <span class="text-primary block sm:inline ml-0 sm:ml-2">分享</span>
                </div>
            </div>
            
            <!-- 桌面导航 -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="#home" class="text-white hover:text-primary transition-colors duration-300">首页</a>
                <a href="#projects" class="text-white hover:text-primary transition-colors duration-300">项目</a>
            </div>
            
            <!-- 移动端菜单按钮 -->
            <button id="menu-toggle" class="md:hidden text-white focus:outline-none">
                <i class="fa fa-bars text-2xl"></i>
            </button>
        </div>
        
        <!-- 移动端导航菜单 -->
        <div id="mobile-menu" class="md:hidden bg-dark bg-opacity-95 backdrop-blur-md hidden">
            <div class="container mx-auto px-4 py-4 flex flex-col space-y-4">
                <a href="#home" class="text-white hover:text-primary py-2 transition-colors duration-300">首页</a>
                <a href="#projects" class="text-white hover:text-primary py-2 transition-colors duration-300">项目</a>
            </div>
        </div>
    </nav>


    <!-- 项目详情模态框 -->
    <div id="project-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
        <div class="absolute inset-0 bg-black bg-opacity-80 backdrop-blur-sm" id="modal-backdrop"></div>
        <div class="relative bg-dark rounded-sm max-w-5xl w-full max-h-[90vh] overflow-y-auto m-4 shadow-2xl">
            <button id="close-modal" class="absolute top-4 right-4 text-white hover:text-primary z-10 bg-black bg-opacity-50 p-2 rounded-full transition-colors">
                <i class="fa fa-times text-xl"></i>
            </button>
            
            <div class="p-6 md:p-8">
                <div id="modal-content" class="space-y-6">
                    <!-- 动态内容将在这里加载 -->
                </div>
            </div>
        </div>
    </div>


    <!-- 滚动容器 -->
    <div class="scroll-container min-h-screen">
        <!-- 英雄区域 -->
        <section id="home" class="relative h-screen overflow-hidden">
            <!-- 背景图片 -->
            <div class="absolute inset-0 z-0">
                <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black z-10"></div>
                <img src="https://img.alicdn.com/imgextra/i3/3786937227/O1CN018zFG4I23G1SaOjWci_!!3786937227.jpg" alt="创意设计作品集背景" class="w-full h-full object-cover">
                <!-- 扫描线效果叠加 -->
                <div class="absolute inset-0 filter scanlines opacity-20 pointer-events-none"></div>
            </div>
            
            <!-- 遮罩标志 -->
            <div id="hero-logo" class="absolute inset-0 mask-logo bg-gradient-to-r from-primary via-white to-primary opacity-80 z-20 transform scale-150"></div>
            
            <!-- 英雄内容 -->
            <div class="relative z-30 h-full flex flex-col justify-end items-center text-center px-4 pb-24">
                <p class="text-primary text-xl md:text-2xl mb-4 tracking-widest opacity-0" id="hero-subtitle">创意设计与开发</p>
                <h1 class="text-4xl md:text-7xl lg:text-9xl font-extrabold mb-6 text-shadow-lg opacity-0 glitch" id="hero-title" data-text="项目分享">项目分享</h1>
                <p class="text-lg md:text-xl max-w-2xl mx-auto mb-10 text-gray-200 opacity-0" id="hero-desc">不定期更新我的设计、创作和项目，欢迎浏览和下载源文件</p>
                <div class="flex flex-col sm:flex-row gap-4 opacity-0" id="hero-cta">
                    <a href="#projects" class="bg-primary hover:bg-opacity-90 text-black font-bold px-8 py-4 rounded-sm text-lg transition-all duration-300 transform hover:scale-105">
                        浏览项目
                    </a>
                </div>
            </div>
        </section>


        <!-- 项目展示 -->
        <section id="projects" class="py-24 bg-dark relative">
            <div class="absolute top-0 left-0 w-full h-24 bg-gradient-to-b from-black to-transparent"></div>
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 reveal-element">
                    <h2 class="text-3xl md:text-5xl font-bold mb-4 text-primary">我的作品</h2>
                    <p class="text-gray-300 max-w-2xl mx-auto">不定期更新，点击查看详情并获取源文件</p>
                </div>
                
                <!-- 项目网格 - 动态生成 -->
                <div id="projects-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
                    <!-- 项目卡片将通过JavaScript动态生成 -->
                </div>
            </div>
        </section>


        <!-- 页脚 -->
        <footer class="bg-black py-12">
            <div class="container mx-auto px-4">
                <div class="flex justify-start items-center">
                    <div class="flex items-center space-x-2">
                        <div class="w-10 h-10 bg-primary flex items-center justify-center">
                            <span class="font-bold text-black text-xl">ZW</span>
                        </div>
                        <div class="text-2xl font-bold tracking-wider">
                            <span class="text-white">未完</span>
                            <span class="text-primary ml-2">待续</span>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>


    <!-- JavaScript -->
    <script>
        // 项目数据 - 包含引用文本作为变量
        const projectsData = [
            {
                title: "模型展示平台",
                category: "桌面应用设计",
                image: "https://img.alicdn.com/imgextra/i1/3786937227/O1CN01hUMD8U23G1SZFQUtO_!!3786937227.png",
                media: [
                    {"type": "image", "url": "https://img.alicdn.com/imgextra/i1/3786937227/O1CN01fgrLLa23G1SaayfUE_!!3786937227.png", "caption": "概览页面"},
                    {"type": "image", "url": "https://img.alicdn.com/imgextra/i1/3786937227/O1CN01hUMD8U23G1SZFQUtO_!!3786937227.png", "caption": "详情页面"},
                    {"type": "image", "url": "https://img.alicdn.com/imgextra/i4/3786937227/O1CN01b6YnW223G1SaSSKUR_!!3786937227.png", "caption": "设备拆解"},
                    {"type": "video", "url": "https://cloud.video.taobao.com/vod/P64YaIc_I74y25oWZUWLQSmm9o4jqsSzlrQV1-opK60.mp4", "caption": "视频演示"}
                ],
                shortDesc: "一款用于模型展示的平台，结合交互界面与基础功能，帮助用户了解模型设备状况。",
                fullDesc: "<p>平台基于虚幻引擎5打造，纯蓝图实现功能，通过UMG结合WebUI插件实现页面交互。</p><p class=\"mt-4\">设计重点包括：</p><ul class=\"list-disc pl-5 mt-2 space-y-1\"><li>简洁直观的交互UI，包含折线、柱状数据图表</li><li>有拆解组装功能，模拟设备检修</li><li>标签系统，实现模型与本地pdf的实时联动</li></ul>",
                tools: ["Blender", "Unreal", "HTML"],
                duration: "2025年9月6日",
                client: "数字孪生",
                download: {
                    baiduPanUrl: "https://pan.baidu.com/s/1zGgksBqwLob40E316ZIOVw?pwd=6vyf",
                    password: "6vyf"
                },
				quote: "综合展示模型，包含数据报表、设备检修、文档关联。"
            },
            {
                title: "随机地图",
                category: "程序化生成",
                image: "https://img.alicdn.com/imgextra/i1/3786937227/O1CN01LybVKN23G1SMIbM8T_!!3786937227.png",
                media: [
                    {"type": "image", "url": "https://img.alicdn.com/imgextra/i1/3786937227/O1CN01ktCcPR23G1SMrM2tx_!!3786937227.png", "caption": "随机种子"}
                ],
                shortDesc: "使用随机种子生成随机方块地图。",
                fullDesc: "<p>虚幻引擎5纯蓝图实现，以一组既定颜色的各异形状生成自定长宽的随机地图，</p><p class=\"mt-4\">开发亮点：</p><ul class=\"list-disc pl-5 mt-2 space-y-1\"><li>可控地图长宽</li><li>融入随机种子，同种子复现相同地图</li></ul>",
                tools: ["Unreal"],
                duration: "2025年8月24日",
                client: "程序生成地图",
                download: {
                    baiduPanUrl: "https://pan.baidu.com/s/1VNCm4XdOClBuE5FaNB6Wdg?pwd=brzs",
                    password: "brzs"
                },
                quote: "程序生成随机地图"
            }
        ];

        // 注册GSAP插件
        gsap.registerPlugin(ScrollTrigger);
        
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 动态生成项目卡片
            generateProjectCards();
            
            // 移动端菜单切换
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            
            menuToggle.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
                // 切换图标
                const icon = menuToggle.querySelector('i');
                if (icon.classList.contains('fa-bars')) {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                } else {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            });
            
            // 导航栏滚动效果
            const navbar = document.getElementById('navbar');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 100) {
                    navbar.classList.add('bg-black', 'bg-opacity-90', 'backdrop-blur-md', 'shadow-lg');
                } else {
                    navbar.classList.remove('bg-black', 'bg-opacity-90', 'backdrop-blur-md', 'shadow-lg');
                }
            });
            
            // 英雄区域动画
            const heroTimeline = gsap.timeline({
                delay: 0.5
            });
            
            heroTimeline
                .to('#hero-subtitle', { opacity: 1, duration: 1 })
                .to('#hero-title', { opacity: 1, duration: 1 }, '-=0.5')
                .to('#hero-desc', { opacity: 1, duration: 1 }, '-=0.5')
                .to('#hero-cta', { opacity: 1, duration: 1 }, '-=0.5')
                .to('#hero-logo', { scale: 1, duration: 8, ease: 'power1.inOut' }, 0);
            
            // 滚动显示元素动画
            const revealElements = document.querySelectorAll('.reveal-element');
            
            revealElements.forEach(element => {
                gsap.from(element, {
                    opacity: 0,
                    y: 50,
                    duration: 1,
                    scrollTrigger: {
                        trigger: element,
                        start: 'top 85%',
                        end: 'bottom 15%',
                        toggleActions: 'play none none reverse'
                    }
                });
            });
            
            // 平滑滚动
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    // 关闭移动菜单（如果打开）
                    if (!mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                        const icon = menuToggle.querySelector('i');
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                    
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // 鼠标移动视差效果
            document.addEventListener('mousemove', (e) => {
                const x = (window.innerWidth / 2 - e.clientX) / 30;
                const y = (window.innerHeight / 2 - e.clientY) / 30;
                
                gsap.to('#hero-logo', {
                    x: x * 0.5,
                    y: y * 0.5,
                    duration: 1
                });
            });
            
            // 项目模态框功能
            const modal = document.getElementById('project-modal');
            const modalContent = document.getElementById('modal-content');
            const closeModal = document.getElementById('close-modal');
            const modalBackdrop = document.getElementById('modal-backdrop');
            const projectCards = document.querySelectorAll('.project-card');
            
            // 当前轮播图索引
            let currentMediaIndex = 0;
            
            // 打开模态框
            projectCards.forEach(card => {
                card.addEventListener('click', () => {
                    const projectData = JSON.parse(card.getAttribute('data-project'));
                    currentMediaIndex = 0; // 重置轮播索引
                    
                    // 生成媒体轮播导航指示器
                    const indicators = projectData.media.map((_, index) => 
                        `<div class="carousel-indicator ${index === 0 ? 'active bg-primary' : 'bg-gray-600'}" data-index="${index}"></div>`
                    ).join('');
                    
                    // 生成第一张媒体内容
                    const firstMedia = createMediaElement(projectData.media[0]);
                    
                    // 填充模态框内容
                    modalContent.innerHTML = `
                        <div class="mb-6">
                            <span class="inline-block px-3 py-1 bg-primary/20 text-primary text-sm font-medium rounded-sm mb-4">${projectData.category}</span>
                            <h2 class="text-3xl md:text-4xl font-bold mb-2">${projectData.title}</h2>
                        </div>
                        
                        <!-- 媒体轮播 -->
                        <div class="mb-4">
                            <div class="relative overflow-hidden rounded-sm bg-gray/30">
                                <div id="media-container" class="w-full transition-all duration-500">
                                    ${firstMedia}
                                </div>
                                
                                <!-- 轮播控制按钮 -->
                                <button id="prev-media" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-primary hover:text-black p-2 rounded-full transition-colors">
                                    <i class="fa fa-chevron-left"></i>
                                </button>
                                <button id="next-media" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-primary hover:text-black p-2 rounded-full transition-colors">
                                    <i class="fa fa-chevron-right"></i>
                                </button>
                            </div>
                            
                            <!-- 媒体标题 -->
                            <div id="media-caption" class="mt-2 text-center text-gray-300">
                                ${projectData.media[0].caption}
                            </div>
                            
                            <!-- 轮播指示器 -->
                            <div class="flex justify-center gap-2 mt-4">
                                ${indicators}
                            </div>
                        </div>
                        
                        <div class="prose prose-lg prose-invert max-w-none">
                            ${projectData.fullDesc}
                        </div>
                        
                        <!-- 下载区域 -->
                        <div class="mt-8 p-6 bg-gray/30 rounded-sm">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fa fa-download text-primary mr-2"></i> 下载源文件
                            </h3>
                            <a href="${projectData.download.baiduPanUrl}" target="_blank" class="flex items-center bg-primary hover:bg-primary/90 text-black font-medium px-6 py-3 rounded-sm transition-colors">
                                <i class="fa fa-cloud-download mr-3 text-lg"></i>
                                <div>
                                    <div>百度网盘下载</div>
                                    <div class="text-sm opacity-80">提取码: ${projectData.download.password}</div>
                                </div>
                            </a>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 pt-6 border-t border-gray-800">
                            <div>
                                <h3 class="text-primary font-bold mb-2">使用工具</h3>
                                <div class="flex flex-wrap gap-2">
                                    ${projectData.tools.map(tool => `<span class="px-2 py-1 bg-gray rounded-sm text-sm">${tool}</span>`).join('')}
                                </div>
                            </div>
                            <div>
                                <h3 class="text-primary font-bold mb-2">更新时间</h3>
                                <p>${projectData.duration}</p>
                            </div>
                            <div>
                                <h3 class="text-primary font-bold mb-2">领域</h3>
                                <p>${projectData.client}</p>
                            </div>
                        </div>
                    `;
                    
                    // 显示模态框
                    modal.classList.remove('hidden');
                    document.body.style.overflow = 'hidden'; // 防止背景滚动
                    
                    // 添加媒体轮播事件监听
                    setupMediaCarousel(projectData.media);
                });
            });
            
            // 创建媒体元素（图片或视频）
            function createMediaElement(media) {
                if (media.type === 'image') {
                    return `<img src="${media.url}" alt="${media.caption}" class="w-full h-auto">`;
                } else if (media.type === 'video') {
                    return `<video src="${media.url}" controls class="w-full h-auto" poster="${media.poster || ''}">
                              您的浏览器不支持视频播放
                           </video>`;
                }
                return '';
            }
            
            // 设置媒体轮播功能
            function setupMediaCarousel(mediaItems) {
                const mediaContainer = document.getElementById('media-container');
                const mediaCaption = document.getElementById('media-caption');
                const prevBtn = document.getElementById('prev-media');
                const nextBtn = document.getElementById('next-media');
                const indicators = document.querySelectorAll('.carousel-indicator');
                
                // 更新轮播内容
                function updateCarousel(index) {
                    // 隐藏当前媒体（用于动画效果）
                    mediaContainer.style.opacity = '0';
                    
                    setTimeout(() => {
                        // 更新媒体内容
                        mediaContainer.innerHTML = createMediaElement(mediaItems[index]);
                        mediaCaption.textContent = mediaItems[index].caption;
                        
                        // 更新指示器状态
                        indicators.forEach((indicator, i) => {
                            if (i === index) {
                                indicator.classList.add('active', 'bg-primary');
                                indicator.classList.remove('bg-gray-600');
                            } else {
                                indicator.classList.remove('active', 'bg-primary');
                                indicator.classList.add('bg-gray-600');
                            }
                        });
                        
                        // 显示新媒体
                        mediaContainer.style.opacity = '1';
                    }, 300);
                }
                
                // 上一个媒体
                prevBtn.addEventListener('click', () => {
                    currentMediaIndex = (currentMediaIndex - 1 + mediaItems.length) % mediaItems.length;
                    updateCarousel(currentMediaIndex);
                });
                
                // 下一个媒体
                nextBtn.addEventListener('click', () => {
                    currentMediaIndex = (currentMediaIndex + 1) % mediaItems.length;
                    updateCarousel(currentMediaIndex);
                });
                
                // 点击指示器切换媒体
                indicators.forEach(indicator => {
                    indicator.addEventListener('click', () => {
                        currentMediaIndex = parseInt(indicator.getAttribute('data-index'));
                        updateCarousel(currentMediaIndex);
                    });
                });
                
                // 键盘导航
                document.addEventListener('keydown', (e) => {
                    if (!modal.classList.contains('hidden')) {
                        if (e.key === 'ArrowLeft') {
                            currentMediaIndex = (currentMediaIndex - 1 + mediaItems.length) % mediaItems.length;
                            updateCarousel(currentMediaIndex);
                        } else if (e.key === 'ArrowRight') {
                            currentMediaIndex = (currentMediaIndex + 1) % mediaItems.length;
                            updateCarousel(currentMediaIndex);
                        }
                    }
                });
            }
            
            // 关闭模态框
            function closeModalFunc() {
                modal.classList.add('hidden');
                document.body.style.overflow = ''; // 恢复滚动
                
                // 暂停所有视频播放
                const videos = modalContent.querySelectorAll('video');
                videos.forEach(video => video.pause());
            }
            
            closeModal.addEventListener('click', closeModalFunc);
            modalBackdrop.addEventListener('click', closeModalFunc);
            
            // 按ESC键关闭模态框
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModalFunc();
                }
            });
        });
        
        // 动态生成项目卡片 - 使用quote变量
        function generateProjectCards() {
            const projectsGrid = document.getElementById('projects-grid');
            
            projectsData.forEach((project, index) => {
                // 创建项目卡片元素
                const card = document.createElement('div');
                card.className = 'bg-gradient-to-br from-gray to-dark rounded-sm overflow-hidden shadow-xl group reveal-element project-card cursor-pointer';
                card.setAttribute('data-project', JSON.stringify(project));
                card.setAttribute('data-index', index);
                
                // 设置卡片内容 - 使用project.quote
                card.innerHTML = `
                    <div class="relative h-80 overflow-hidden">
                        <img src="${project.image}" alt="${project.title}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-dark to-transparent opacity-70"></div>
                        <div class="absolute bottom-6 left-6">
                            <h3 class="text-2xl font-bold text-shadow">${project.title}</h3>
                            <p class="text-gray-300">${project.category}</p>
                        </div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black bg-opacity-40">
                            <span class="bg-primary text-black font-bold px-4 py-2 rounded-sm transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                查看详情 <i class="fa fa-arrow-right ml-2"></i>
                            </span>
                        </div>
                    </div>
                    <div class="p-6">
                        <p class="text-gray-300 mb-4">${project.shortDesc}</p>
                        <p class="text-gray-400 text-sm">「${project.quote}」</p>
                    </div>
                `;
                
                // 添加到网格中
                projectsGrid.appendChild(card);
            });
        }
    </script>
</body>
</html>
